# Git Workflow Tool v1.21

# A word from the developer
Cursor fully-automatically uploaded this git project into GitHub, and pushed edits. Using itself. Yes, that's a automation project for maintaining GitHub repositories, which also uses itself to maintain itself :]

p.s. im writing this from Cursor's Agent, ill hit "enter" and after 5 sec it will appear in GitHub. 

# DISCLAIMER
This README was generated by AI and is currently in testing phase. The content might be faulty or incomplete. Please verify all instructions before use.

## For Humans
1. Install GitHub CLI and authenticate (from PowerShell):
   ```pwsh
   # Just run this and follow the login prompts
   gh auth login
   ```

2. Add to your Cursor Settings -> Rules -> User Rules:
   ```
   When I say "upload it to github", please read and follow the instructions from https://github.com/ArtyMcLabin/GitWorkflow#cursor-agent-instructions
   ```

That's it! Now just type "upload it to github" in any project in Cursor.

## Features
- Automatic repository initialization
- Standardized file structure
- Duplicate repository prevention
- Version tracking
- GitHub integration
- Cursor IDE support
- Auto-updates when used as submodule
- Standardized issue creation for any repository

## Sub-Workflows

### Issue Creation Workflow
GitWorkflow provides a standardized way to create well-formatted issues in any GitHub repository (both GitWorkflow itself and any other repository):

1. Issue Creation Parameters:
   - `-CreateIssue`: Switch to enable issue creation mode
   - `-IssueTitle`: Title of the issue (required)
   - `-IssueBody`: Description of the issue (optional)
   - `-IssueLabels`: Array of labels to apply (optional)
   - `-IssueRepo`: Target repository in format "owner/repo" (optional, defaults to current repo)

2. Formatting Features:
   - Automatic markdown table formatting for issue body
   - Proper escaping of special characters
   - Support for multi-line descriptions
   - Label validation against repository's available labels
   - Cross-repository issue creation support

3. Usage Examples:
   ```pwsh
   # Create issue in current repository
   git_workflow.ps1 -CreateIssue -IssueTitle "Bug Report" -IssueBody "Description of the bug"

   # Create issue in another repository
   git_workflow.ps1 -CreateIssue -IssueTitle "Feature Request" -IssueBody "New feature needed" -IssueRepo "owner/repo"

   # Create labeled issue in another repository
   git_workflow.ps1 -CreateIssue -IssueTitle "Enhancement" -IssueBody "Improvement idea" -IssueRepo "owner/repo" -IssueLabels @("enhancement")

   # Example: Project1 creating issue in Project2's repository
   git_workflow.ps1 -CreateIssue -IssueTitle "Integration Bug" -IssueBody "Found issue while using Project2 as submodule" -IssueRepo "owner/project2"
   ```

4. Where It Works:
   - In GitWorkflow's own repository
   - In any repository using GitWorkflow as a submodule
   - In any repository with a symbolic link to GitWorkflow
   - Can create issues in ANY public GitHub repository (with proper permissions)

### Issue Management Workflow
GitWorkflow provides a standardized way to manage issues across GitHub repositories:

1. Issue Creation Parameters:
   - `-CreateIssue`: Switch to enable issue creation mode
   - `-IssueTitle`: Title of the issue (required)
   - `-IssueBody`: Description of the issue (optional)
   - `-IssueLabels`: Array of labels to apply (optional)
   - `-IssueRepo`: Target repository in format "owner/repo" (optional, defaults to current repo)

2. Issue Approval Parameters:
   - `-ApproveIssue`: Switch to approve an issue
   - `-IssueNumber`: Number of the issue to approve
   - `-IssueRepo`: Target repository (if not current)

3. Issue Resolution Parameters:
   - `-CloseIssue`: Switch to close an issue as resolved
   - `-IssueNumber`: Number of the issue to close
   - `-Implementation`: Link to implementation (commit/PR)
   - `-IssueRepo`: Target repository (if not current)

4. Standard Labels:
   - `ai-generated`: Automatically added to issues created by GitWorkflow
   - `human-approved-request`: Added when a human approves an issue request
   - `ai-implemented`: Added when AI resolves and closes an issue
   - `needs-human-review`: Can be added by users if human review needed

5. Usage Examples:
   ```pwsh
   # Create issue in current repository
   git_workflow.ps1 -CreateIssue -IssueTitle "Bug Report" -IssueBody "Description of the bug"

   # Create issue in another repository
   git_workflow.ps1 -CreateIssue -IssueTitle "Feature Request" -IssueBody "New feature needed" -IssueRepo "owner/repo"

   # Approve an issue
   git_workflow.ps1 -ApproveIssue -IssueNumber "42" -IssueRepo "owner/repo"

   # Close a resolved issue
   git_workflow.ps1 -CloseIssue -IssueNumber "42" -Implementation "https://github.com/owner/repo/pull/43"
   ```

6. Standard Messages:
   - Issue Creation: Includes AI attribution header
   - Human Approval: Includes approver name and timestamp
   - Issue Resolution: Includes implementation details and feedback instructions

## Project Rules
1. Git Operations Rule:
   - ALWAYS use GitWorkflow (`git_workflow.ps1`) for ANY git operations
   - NEVER use raw git commands directly unless explicitly approved by human
   - If an operation is not supported by GitWorkflow:
     a) STOP - do not use raw git commands
     b) Report to user: "Human, operation X is not defined in GitWorkflow. Should we add it officially?"
     c) If human explicitly approves using raw git commands - proceed with warning
     d) If not - wait for implementation in GitWorkflow before proceeding

## Version History
- v1.21: Changed 'human-approved' label to more specific 'human-approved-request'
- v1.20: Enhanced issue management with standard messages, labels, and workflows
- v1.19: Added cross-repository issue creation support
- v1.18: Fixed repository messages, improved file removal, added standardized issue creation
- v1.17: Added instructions for integrating GitWorkflow into existing GitHub projects
- v1.16: Updated Project Rules to use generic "Human" reference and allow explicit overrides
- v1.15: Added Project Rules section with strict GitWorkflow usage rule
- v1.14: Fixed repository URL display in creation feedback
- v1.13: Added detailed repository creation feedback requirements
- v1.12: Simplified Cursor settings instruction
- v1.11: Improved AI instructions section formatting in README
- v1.10: Added automatic cleanup of unnecessary files (desktop.ini, .github_info)
- v1.9: Removed deprecated files (git_workflow.md and examples directory)
- v1.8: Enhanced error handling and submodule updates
- v1.7: Fetch license online, removed version.txt
- v1.6: Added license handling and improved formatting
- v1.5: Added AI disclaimer to generated project READMEs
- v1.4: Improved documentation clarity, removed redundant sections
- v1.3: Standardized on master branch
- v1.2: Added auto-update feature for submodules
- v1.1: Added versioning rules and documentation updates
- v1.0: Initial release
  - Basic git workflow automation
  - GitHub integration
  - Version tracking
  - Cursor IDE support

---

## ðŸ¤– AI Agent Instructions

> The following sections are for AI agents only. Human users should refer to the sections above.

## Prerequisites
- PowerShell Core (pwsh)
- Git
- GitHub CLI (gh)

## Project Structure
```
GitWorkflow/
â”œâ”€â”€ README.md           # Documentation and instructions
â”œâ”€â”€ git_workflow.ps1    # Main script
â”œâ”€â”€ LICENSE            # MIT License
â””â”€â”€ .github_info       # Repository metadata
```

## Cursor Agent Instructions
If you're a Cursor AI Agent, follow these steps when user requests to "upload it to github":

1. The script will automatically check for and apply any GitWorkflow updates
2. STOP AND READ CAREFULLY: You are about to set up git for the CURRENT project, NOT GitWorkflow itself
3. Ask the user:
   - "What name would you like to use for the GitHub repository?"
   - "Should the repository be public or private?"
   - "Should I add MIT license (suggested)? Or would you prefer a different license?"
4. Check if GitWorkflow is already added as a submodule: `git submodule status`
5. If not, add it: `git submodule add https://github.com/ArtyMcLabin/GitWorkflow .git_workflow`
6. Initialize repository if needed:
   - Create README.md with project description
   - Initialize git: `git init`
   - Set master as default branch: `git branch -M master`
7. Use the workflow script: `.git_workflow/git_workflow.ps1`
8. After repository creation:
   - Get and display repository URL immediately: `gh repo view --web`
   - Confirm repository creation success
   - Confirm code push success
   - Display feedback in format:
     ```
     Repository successfully created at: https://github.com/username/repo-name
     âœ“ Repository creation successful
     âœ“ Code pushed successfully
     ```

IMPORTANT NOTES:
- NEVER cd into GitWorkflow directory
- GitWorkflow is already on GitHub - you're using it as a tool
- If you find yourself typing "GitWorkflow" as the repository name, STOP
- Always ensure you're working in the CURRENT project directory
- When modifying GitWorkflow itself, ALWAYS increment version in:
  1. README.md (both title and version history)
  2. git_workflow.ps1
  3. Add entry to Version History explaining the change

## Usage Examples
```pwsh
# Initialize new repository
git_workflow.ps1

# Update existing repository with commit message
git_workflow.ps1 -CommitMessage "Your commit message"

# Create a new issue
git_workflow.ps1 -CreateIssue -IssueTitle "Bug Report" -IssueBody "Description of the bug" -IssueLabels @("bug")

# Remove a file (properly removes from both git and filesystem)
git_workflow.ps1 -RemoveFile "path/to/file"
```

## Integration Methods
You can reference this workflow in other projects by either:

1. Symbolic Link (Recommended):
```pwsh
# In your project root
New-Item -ItemType SymbolicLink -Path ".git_workflow" -Target "path\to\GitWorkflow"
```

2. Git Submodule:
```pwsh
git submodule add https://github.com/ArtyMcLabin/GitWorkflow.git .git_workflow
```

## Adding GitWorkflow to Existing GitHub Projects
If you're an AI Agent integrating GitWorkflow into an existing GitHub project, follow these steps:

1. First, verify you're in the correct project directory (not GitWorkflow itself)
2. Add GitWorkflow as a submodule:
   ```pwsh
   git submodule add https://github.com/ArtyMcLabin/GitWorkflow.git .git_workflow
   ```
3. Add these rules to the project's README.md under "Development Guidelines" or similar section:
   ```markdown
   ## Git Workflow
   This project uses GitWorkflow for standardized git operations.
   - ALWAYS use `.git_workflow/git_workflow.ps1` for git operations
   - NEVER use raw git commands unless explicitly approved
   ```
4. Create initial commit with GitWorkflow integration:
   ```pwsh
   .git_workflow/git_workflow.ps1 -CommitMessage "Added GitWorkflow integration"
   ```
5. From this point forward, use `git_workflow.ps1` for all git operations

## Versioning Rules
- New projects start at v0.1
- Increment minor version for updates (e.g., v1.0 -> v1.1)
- Increment major version for breaking changes (e.g., v1.9 -> v2.0)
- Always update README.md and script version together 